<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detail Tenda - TendaKita</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="logo">Tenda<span>Kita</span></div>
        <div class="menu-toggle" id="menuToggle">
          <i class="fa-solid fa-bars"></i>
        </div>
        <nav class="nav-menu" id="mainNav">
          <ul>
            <li><a href="index.html">Beranda</a></li>
            <li><a href="tenda-kami.html">Tenda Kami</a></li>
            <li><a href="peminjaman.html">Cara Peminjaman</a></li>
            <li><a href="tentang.html">Tentang Kami</a></li>
            <li><a href="kontak.html">Kontak</a></li>
            <li><a href="login.html" class="btn">Login / Daftar</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="main-content">
      <div class="container">
        <div class="breadcrumb" id="detailBreadcrumb"><a href="index.html">Beranda</a> &gt; <a href="tenda-kami.html">Tenda Kami</a> &gt; <span id="tentNameBreadcrumb"></span></div>
        <h1 class="page-title" id="pageTitle">Detail Tenda</h1>

        <section class="tent-detail-section">
          <div class="tent-image">
            <img id="tentImage" src="" alt="Gambar Tenda" />
          </div>
          <div class="tent-info">
            <h2 id="tentName"></h2>
            <p class="tent-price">Harga Sewa: <span id="tentPrice"></span> / Hari</p>
            <p class="tent-capacity"><i class="fa-solid fa-person"></i> Kapasitas: <span id="tentCapacity"></span></p>
            <p class="tent-type"><i class="fa-solid fa-campground"></i> Tipe: <span id="tentType"></span></p>

            <h3>Deskripsi Tenda:</h3>
            <p id="tentDescription"></p>

            <h3>Fitur Utama:</h3>
            <ul id="tentFeatures"></ul>

            <h3>Kelengkapan Sewa:</h3>
            <ul id="tentAccessories"></ul>

            <div class="action-buttons">
              <a href="peminjaman.html" class="btn">Sewa Sekarang</a>
              <a href="kontak.html" class="btn btn-secondary">Tanya Lebih Lanjut</a>
            </div>
          </div>
        </section>

        <section class="related-tents section-padding">
          <h2 class="section-title">Tenda Serupa yang Mungkin Anda Suka</h2>
          <div class="tent-cards" id="relatedTentsContainer">
            <div class="tent-card">
              <img src="image/Tenda Ultralight 1 Orang.png" alt="Tenda Ultralight 1 Orang" />
              <div class="tent-card-content">
                <h3>Tenda Ultralight 1 Orang</h3>
                <p class="capacity"><i class="fa-solid fa-person"></i> 1 Orang</p>
                <p class="price">Rp 65.000 / Hari</p>
                <a href="detail-tenda.html?id=ultralight1" class="btn">Lihat Detail</a>
              </div>
            </div>
            <div class="tent-card">
              <img src="image/Tenda Dome 6 Orang.png" alt="Tenda Camping 6 Orang" />
              <div class="tent-card-content">
                <h3>Tenda Camping 6 Orang</h3>
                <p class="capacity"><i class="fa-solid fa-people-group"></i> 5-6 Orang</p>
                <p class="price">Rp 95.000 / Hari</p>
                <a href="detail-tenda.html?id=camping6" class="btn">Lihat Detail</a>
              </div>
            </div>
            <div class="tent-card">
              <img src="image/Tenda Camping Keluarga 4 Orang.png" alt="Tenda Camping Keluarga 4 Orang" />
              <div class="tent-card-content">
                <h3>Tenda Camping Keluarga 4 Orang</h3>
                <p class="capacity"><i class="fa-solid fa-people-group"></i> 3-4 Orang</p>
                <p class="price">Rp 80.000 / Hari</p>
                <a href="detail-tenda.html?id=keluarga4" class="btn">Lihat Detail</a>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <nav>
          <ul>
            <li><a href="index.html">Beranda</a></li>
            <li><a href="tenda-kami.html">Tenda Kami</a></li>
            <li><a href="peminjaman.html">Cara Peminjaman</a></li>
            <li><a href="tentang.html">Tentang Kami</a></li>
            <li><a href="kontak.html">Kontak</a></li>
          </ul>
        </nav>
        <div class="contact-info">
          <p>Jalan Petualangan No. 123, Jakarta, Indonesia</p>
          <p>Telepon: (021) 12345678</p>
          <p>Email: info@tendakita.com</p>
        </div>
        <div class="social-links">
          <a href="#"><i class="fa-brands fa-facebook"></i></a>
          <a href="#"><i class="fa-brands fa-instagram"></i></a>
          <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
        </div>
        <p>&copy; 2025 TendaKita. Semua Hak Dilindungi.</p>
      </div>
    </footer>

    <script src="script.js"></script>
    <script src="data-tenda.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Fungsi untuk mendapatkan parameter dari URL
        function getUrlParameter(name) {
          name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
          var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
          var results = regex.exec(location.search);
          return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        const tentId = getUrlParameter("id");
        const tent = tendaData.find((item) => item.id === tentId); // Mencari data tenda berdasarkan ID

        if (tent) {
          // Update judul halaman
          document.title = `Detail Tenda - ${tent.nama} - TendaKita`;
          document.getElementById("pageTitle").innerText = `Detail ${tent.nama}`;
          document.getElementById("tentNameBreadcrumb").innerText = tent.nama;

          // Update detail tenda
          document.getElementById("tentImage").src = tent.gambar;
          document.getElementById("tentImage").alt = tent.nama;
          document.getElementById("tentName").innerText = tent.nama;
          document.getElementById("tentPrice").innerText = tent.harga;
          document.getElementById("tentCapacity").innerText = tent.kapasitas;
          document.getElementById("tentType").innerText = tent.tipe;
          document.getElementById("tentDescription").innerText = tent.deskripsi;

          // Update fitur tenda
          const featuresList = document.getElementById("tentFeatures");
          featuresList.innerHTML = ""; // Kosongkan dulu
          tent.fitur.forEach((feature) => {
            const li = document.createElement("li");
            li.innerHTML = `<i class="fa-solid fa-check-circle"></i> ${feature}`;
            featuresList.appendChild(li);
          });

          // Update kelengkapan sewa
          const accessoriesList = document.getElementById("tentAccessories");
          accessoriesList.innerHTML = ""; // Kosongkan dulu
          tent.kelengkapan.forEach((accessory) => {
            const li = document.createElement("li");
            li.innerHTML = `<li>${accessory}</li>`;
            accessoriesList.appendChild(li);
          });

          // Optional: Mengisi tenda serupa (Anda bisa membuat logika yang lebih kompleks)
          // Saat ini, saya biarkan tenda serupa statis seperti yang sudah ada di HTML
          // Jika ingin dinamis, Anda perlu menghapus HTML statis dan membuat loop di sini
        } else {
          // Jika tenda tidak ditemukan (ID tidak valid)
          document.title = "Tenda Tidak Ditemukan - TendaKita";
          document.getElementById("pageTitle").innerText = "Tenda Tidak Ditemukan";
          document.getElementById("tentNameBreadcrumb").innerText = "Tidak Ditemukan";
          document.querySelector(".tent-detail-section").innerHTML = '<p style="text-align: center; font-size: 1.2em; color: #f00;">Maaf, detail tenda yang Anda cari tidak ditemukan.</p>';
        }
      });
    </script>
  </body>
</html>
